/**
* Google Maps for ExpressionEngine
* Author: Justin Kimbrell
* Build: 2.3 BETA - Build 20111006
* Copyright 2011 - All rights reserved
* http://objectivehtml.com, http://inthesaucepan.com
*/

Version 2.3 BETA 9/29/2011
--------------------------
Fixed a bug in the new _date span feature.

Version 2.3 BETA 9/29/2011
--------------------------
Fixed a couple bugs in the results method. Also added a feature so the user can search by _day. This will take a timestamp and search the entire day, not just a specific time. (Works in a similar fashion as _min, _max, and _like)

Version 2.3 BETA 9/20/2011
--------------------------
Added the ability to search the entry_date and expiration_date within the exp:gmap:results method. Also fixed an problem that caused the v2.3 beta fieldtype code to be overwritten by an older version. Restored my current working version.

Version 2.3 BETA 8/5/2011
-------------------------
Fixed a bug that prevent the dropdown from displaying properly in IE. I also made jQuery a required library for the dropdown for easier code maintenance and browser compatibility.

Version 2.3 BETA Build 7/21/2011
--------------------------------
Updated the fieldtype from code contributed by John D Wells who can be found on Twitter @johndwells and http://johndwells.com/. He implemented a "defer initialization until click" feature. In a future build, there will be an option to omit this feature and initialize the map on load.

Version 2.3 BETA Build 7/21/2011
--------------------------------
Fixed a bug that caused an empty result set if the form didn't contain a category.

Version 2.3 BETA Build 7/20/2011
--------------------------------
Fixed a bug that caused errors when user enters an invalid location (for the geocoder). Added basic form validation to the gimp:search and gmap:results methods. Deprecated exp:gmap, and now exp:gmap:init is required.

Version 2.3 BETA 8/5/2011
----------------------
Fixed a bug that prevent the dropdown from displaying properly in IE. I also made jQuery a required library for the dropdown for easier code maintenance and browser compatibility.

Version 2.3 BETA Build 7/11/2011
--------------------------------
Fixed the bug that caused the map to clip when it was hidden before initialization (for the fieldtype).

Version 2.3 BETA Build 7/07/2011
--------------------------------
A number of bug fixes for the search and results methods.


Version 2.3 BETA Build 6/22/2011
--------------------------------
A number a significant improvements have been made to more easily search your channel data in relation to a specific location. Currently the user can only define the location, not the developer. However, this will not be the case in future builds. A new result method tracks the search search results that also integrates well with the channel:entries tag. Much more to come in this release. (This is the first BETA build of 2.3)

Version 2.2.1 Build 6/13/2011
-----------------------
Minor bug fixes that dealt with the field type and safecracker that caused some installations no to update the lat and lng. Also fixed the long time bug that caused conditional statements no to process correctly inside javascript. (Now $config['protect_javascript'] = 'n';)

Version 2.2 Build 6/10/2011
----------------------
Version 2.2 brings a load of new features to the table. Here are the major ones:

Create maps with custom marker icons
Create maps with custom styles using the Google Maps API Styles Map Wizard
5 all new methods for further extendability including: gmap:marker, gmap:dropdown, gmap:center, gmap:zoom, and gmap:init.
Fully compatible with Matrix (with SafeCracker coming before the final release)
Display one info window at a time
Add control over the default zoom functionality
New gmap:dropdown method can be used to auto-populate a dropdown menu with the markers on the map.
All new fieldtype with a very simple drag and drop interface to geocode a matrix of coordinates.
Limit number of markers that can be added to the fieldtype.
Populate custom latitude and longitude fields with the individual degrees.
Available in 5 languages: English, French, Dutch, Norwegian, and Spanish
Compatibility with SafeCracker, NSM Add-on Updater, and the new @ee_zoo's new Visitor


Version 2.1.3 Build 5/9/2011
----------------------
Added the ability to search custom fields like the inherent exp:channel:entries tag. (search:custom_field="some value").


Version 2.1.2 Build 5/9/2011
----------------------
Fixed the a problem the with double-quotes breaking the javascript. The markup that is now inserted into the info window is now escaped.


Version 2.1.1 Build 5/5/2011
----------------------
Fixed a typo the caused a JavaScript error in IE that resulted in the maps not displaying properly.


Version 2.1 Build 5/2/2011
----------------------
Core plugin code was completely rewritten for comprehension and for easier long-term support. The original API was unchanged, except with the addition of several new features. Added latitude_field, longitude_field, and zoom_field to pull the respective values from a specified channel. Plot or center on a static longitude and latitude coordinate. Now able to add multiple static addresses. The only required field is now the id. A lot of rules were changes in how data interacts with the map. If the address or coordinates are blank coming from the channel, the record is ignored. You can define a single channel that stores address and coordinates and plot them on a single map. The idea of the upgrade was to be less restrictive.


Version 2.0 Build 4/23/2011
----------------------
Completely revamped the Google Map implementation within the native channel:entries tag instead of using a proprietary syntax. Google Maps v3.0 API was used instead of 2.0 which comes with mobile support. All v3.0 options are available.